"use strict";(self.webpackChunkrent360=self.webpackChunkrent360||[]).push([[855],{4855:(A,m,o)=>{o.r(m),o.d(m,{AuthModule:()=>y});var u=o(4466),l=o(4275),s=o(4006),p=o(3900),t=o(8256),c=o(263),g=o(7338),d=o(6895),h=o(9219);function f(e,i){if(1&e&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Oqu(r.error)}}const v=[{path:"",component:(()=>{class e{constructor(r,a,n,Z){this.fb=r,this.auth=a,this.router=n,this.settings=Z,this.error="",this.form=this.fb.group({email:["owner@rent360.com",[s.kI.required,s.kI.email]],password:["password",s.kI.required]})}ngOnInit(){this.auth.snapshotUser&&this.router.navigate(["/dashboard"],{replaceUrl:!0})}submit(){if(this.error="",this.form.invalid)return;const r=String(this.form.value.email??""),a=String(this.form.value.password??"");this.auth.login(r,a).pipe((0,p.w)(n=>(this.settings.updateSettings({fullName:n.fullName,email:n.email,mobileNumber:n.mobileNumber,address:n.address,currency:n.currency}),this.settings.loadForUser(n.email)))).subscribe({next:()=>{this.router.navigate(["/dashboard"],{replaceUrl:!0})},error:n=>{this.error=n.message||"Login failed"}})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(s.qu),t.Y36(c.e),t.Y36(l.F0),t.Y36(g.s))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:20,vars:2,consts:[[1,"auth-shell"],[1,"r360-page-title","text-3xl","sm:text-4xl"],[1,"r360-page-subtitle"],[1,"form-grid",3,"formGroup","ngSubmit"],[1,"r360-label"],["formControlName","email","type","email",1,"r360-input"],["formControlName","password","type","password",1,"r360-input"],["class","error",4,"ngIf"],["type","submit",1,"r360-btn-primary","w-full"],["routerLink","/login/register",1,"r360-action-link"],[1,"error"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"r360-card")(2,"h2",1),t._uU(3,"Sign In"),t.qZA(),t.TgZ(4,"p",2),t._uU(5,"Use owner@rent360.com / password"),t.qZA(),t.TgZ(6,"form",3),t.NdJ("ngSubmit",function(){return a.submit()}),t.TgZ(7,"label",4),t._uU(8,"Email"),t._UZ(9,"input",5),t.qZA(),t.TgZ(10,"label",4),t._uU(11,"Password"),t._UZ(12,"input",6),t.qZA(),t.YNc(13,f,2,1,"div",7),t.TgZ(14,"button",8),t._uU(15,"Login"),t.qZA()(),t.TgZ(16,"p",2),t._uU(17,"New user? "),t.TgZ(18,"a",9),t._uU(19,"Create account"),t.qZA()()()()),2&r&&(t.xp6(6),t.Q6J("formGroup",a.form),t.xp6(7),t.Q6J("ngIf",a.error))},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,h.A,l.yS],styles:[".auth-shell[_ngcontent-%COMP%]{min-height:calc(100vh - 1rem);display:grid;place-items:center;padding:1rem}r360-card[_ngcontent-%COMP%]{width:min(460px,100%);display:block}.form-grid[_ngcontent-%COMP%]{display:grid;gap:.75rem;margin-top:1rem}.error[_ngcontent-%COMP%]{color:#dc2626;font-size:.8125rem}"]}),e})()},{path:"register",component:(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],decls:2,vars:0,consts:[[1,"placeholder"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0),t._uU(1,"Register page scaffold"),t.qZA())},styles:[".placeholder[_ngcontent-%COMP%]{padding:24px;font-size:18px}"]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(v),l.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.m,C]}),e})()}}]);