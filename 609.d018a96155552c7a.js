"use strict";(self.webpackChunkrent360=self.webpackChunkrent360||[]).push([[609],{609:(F,d,a)=>{a.r(d),a.d(d,{ReportsModule:()=>P});var g=a(5675),s=a(8327),c=a(7574),u=a(4466),e=a(8256),m=a(6895),f=a(9219),b=a(2802);function v(n,o){if(1&n&&(e.TgZ(0,"r360-card",22)(1,"div",23),e.O4$(),e.TgZ(2,"svg",24),e._UZ(3,"circle",25)(4,"circle",26),e.qZA(),e.kcU(),e.TgZ(5,"div",27)(6,"span",28),e._uU(7),e.qZA()()(),e.TgZ(8,"div",29),e._uU(9),e.qZA()()),2&n){const t=o.$implicit,r=e.oxw();e.xp6(4),e.uIk("stroke",t.color)("stroke-dasharray",r.ringDashArray)("stroke-dashoffset",r.ringOffset(t.percent)),e.xp6(3),e.Oqu(t.value),e.xp6(2),e.Oqu(t.label)}}function O(n,o){if(1&n&&(e.O4$(),e._UZ(0,"path",32)),2&n){const t=e.oxw().$implicit,r=e.oxw();e.uIk("d",r.trendArea(t.values))("fill",t.color)}}function x(n,o){if(1&n&&(e.O4$(),e.ynx(0),e.YNc(1,O,1,2,"path",30),e._UZ(2,"path",31),e.BQk()),2&n){const t=o.$implicit,r=o.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",0===r),e.xp6(1),e.uIk("d",i.trendPath(t.values))("stroke",t.color)}}function C(n,o){if(1&n&&(e.TgZ(0,"div",33),e._UZ(1,"span",34),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Udp("background",t.color),e.xp6(2),e.Oqu(t.label)}}function y(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function M(n,o){if(1&n&&(e.TgZ(0,"div",35)(1,"div",36),e._UZ(2,"div",37),e.qZA(),e.TgZ(3,"span",38),e._uU(4),e.qZA()()),2&n){const t=o.$implicit,r=e.oxw();e.xp6(2),e.Udp("height",r.barHeight(t.value),"px")("background",t.color),e.xp6(2),e.Oqu(t.label)}}let l=(()=>{class n{constructor(t){this.route=t,this.title="Reports",this.subtitle="Financial, occupancy, and operational reports",this.description="Reports module scaffold as per PRODUCT-DEFINATION.",this.scene=this.buildScene("reports"),this.chartW=360,this.chartH=160,this.chartPad=18,this.ringRadius=40,this.ringCircumference=2*Math.PI*this.ringRadius,this.ringDashArray=this.ringCircumference.toFixed(3),this.routeSubscription=this.route.data.subscribe(r=>{this.title=r.title||this.title,this.subtitle=r.subtitle||this.subtitle,this.description=r.description||this.description,this.scene=this.buildScene(this.resolveSceneKey(this.title))})}ringOffset(t){const r=Math.max(0,Math.min(100,t));return this.ringCircumference-this.ringCircumference*r/100}trendPath(t){if(t.length<2)return"";const r=Math.max(...t),i=Math.min(...t),p=Math.max(r-i,1),k=(this.chartW-2*this.chartPad)/(t.length-1);return t.map((T,h)=>{const w=this.chartH-this.chartPad-(T-i)/p*(this.chartH-2*this.chartPad);return`${0===h?"M":"L"} ${(this.chartPad+k*h).toFixed(2)} ${w.toFixed(2)}`}).join(" ")}trendArea(t){return t.length<2?"":`${this.trendPath(t)} L ${(this.chartPad+(this.chartW-2*this.chartPad)/(t.length-1)*(t.length-1)).toFixed(2)} ${(this.chartH-this.chartPad).toFixed(2)} L ${this.chartPad.toFixed(2)} ${(this.chartH-this.chartPad).toFixed(2)} Z`}barHeight(t){const r=Math.max(...this.scene.bars.map(i=>i.value),1);return Math.max(12,Math.round(t/r*140))}trackByMetric(t,r){return r.label}trackBySeries(t,r){return r.label}trackByBar(t,r){return r.label}ngOnDestroy(){this.routeSubscription?.unsubscribe()}resolveSceneKey(t){const r=t.toLowerCase();return r.includes("communication")?"communications":r.includes("task")?"tasks":"reports"}buildScene(t){return"communications"===t?{caption:"Message throughput, delivery quality, and engagement trend",ringMetrics:[{label:"Delivery Rate",value:"96%",percent:96,color:"#06b6d4"},{label:"Open Rate",value:"68%",percent:68,color:"#14b8a6"},{label:"Action Rate",value:"41%",percent:41,color:"#22c55e"}],trendLabels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],trendSeries:[{label:"Sent",color:"#0ea5e9",values:[320,410,390,480,530,470,560]},{label:"Read",color:"#14b8a6",values:[240,302,288,345,390,350,425]}],bars:[{label:"Notices",value:68,color:"#06b6d4"},{label:"Broadcasts",value:44,color:"#22c55e"},{label:"Alerts",value:57,color:"#f59e0b"},{label:"Reminders",value:36,color:"#6366f1"}]}:"tasks"===t?{caption:"Workload completion, SLA adherence, and team velocity",ringMetrics:[{label:"Completion",value:"82%",percent:82,color:"#22c55e"},{label:"On-Time SLA",value:"74%",percent:74,color:"#0ea5e9"},{label:"Backlog Burn",value:"63%",percent:63,color:"#f97316"}],trendLabels:["W1","W2","W3","W4","W5","W6"],trendSeries:[{label:"Created",color:"#ef4444",values:[42,47,45,53,49,50]},{label:"Resolved",color:"#22c55e",values:[31,36,39,45,46,48]}],bars:[{label:"Electrical",value:48,color:"#22c55e"},{label:"Plumbing",value:33,color:"#06b6d4"},{label:"Lift",value:28,color:"#f59e0b"},{label:"Security",value:41,color:"#8b5cf6"}]}:{caption:"Revenue pulse, occupancy stability, and risk indicators",ringMetrics:[{label:"Rent Collection",value:"88%",percent:88,color:"#14b8a6"},{label:"Occupancy",value:"79%",percent:79,color:"#0ea5e9"},{label:"Defaulter Risk",value:"27%",percent:27,color:"#f59e0b"}],trendLabels:["Jan","Feb","Mar","Apr","May","Jun","Jul"],trendSeries:[{label:"Collected",color:"#14b8a6",values:[112,124,130,126,139,144,151]},{label:"Outstanding",color:"#ef4444",values:[44,41,39,36,34,31,30]}],bars:[{label:"Rent",value:151,color:"#14b8a6"},{label:"Maintenance",value:96,color:"#0ea5e9"},{label:"Penalty",value:32,color:"#f59e0b"},{label:"Services",value:64,color:"#8b5cf6"}]}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reports"]],decls:29,vars:13,consts:[[1,"r360-page","reports-enter"],[3,"title","subtitle"],[1,"r360-section"],[1,"reports-caption-card","block"],[1,"reports-caption"],[1,"reports-description"],[1,"grid","grid-cols-1","gap-4","md:grid-cols-3"],["class","block reports-ring-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","grid-cols-1","gap-4","xl:grid-cols-5"],[1,"block","xl:col-span-3","reports-plot-card"],[1,"reports-card-title"],["viewBox","0 0 360 160","aria-hidden","true",1,"reports-line-chart"],["x1","18","y1","18","x2","18","y2","142",1,"reports-axis"],["x1","18","y1","142","x2","342","y2","142",1,"reports-axis"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"reports-line-legend"],["class","reports-legend-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"reports-line-labels"],[4,"ngFor","ngForOf"],[1,"block","xl:col-span-2","reports-plot-card"],[1,"reports-bars"],["class","reports-bar-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"block","reports-ring-card"],[1,"reports-ring-wrap"],["viewBox","0 0 120 120","aria-hidden","true",1,"reports-ring-svg"],["cx","60","cy","60","r","40","stroke-width","10","fill","none",1,"reports-ring-track"],["cx","60","cy","60","r","40","stroke-width","10","fill","none",1,"reports-ring-progress"],[1,"reports-ring-center"],[1,"reports-ring-value"],[1,"reports-ring-label"],["class","reports-area",4,"ngIf"],[1,"reports-line"],[1,"reports-area"],[1,"reports-legend-item"],[1,"reports-legend-dot"],[1,"reports-bar-item"],[1,"reports-bar-track"],[1,"reports-bar-fill"],[1,"reports-bar-label"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"r360-page-header",1),e.TgZ(2,"section",2)(3,"r360-card",3)(4,"div",4),e._uU(5),e.qZA(),e.TgZ(6,"p",5),e._uU(7),e.qZA()()(),e.TgZ(8,"section",2)(9,"div",6),e.YNc(10,v,10,5,"r360-card",7),e.qZA()(),e.TgZ(11,"section",2)(12,"div",8)(13,"r360-card",9)(14,"div",10),e._uU(15,"Performance Trend"),e.qZA(),e.O4$(),e.TgZ(16,"svg",11),e._UZ(17,"line",12)(18,"line",13),e.YNc(19,x,3,3,"ng-container",14),e.qZA(),e.kcU(),e.TgZ(20,"div",15),e.YNc(21,C,4,3,"div",16),e.qZA(),e.TgZ(22,"div",17),e.YNc(23,y,2,1,"span",18),e.qZA()(),e.TgZ(24,"r360-card",19)(25,"div",10),e._uU(26,"Category Comparison"),e.qZA(),e.TgZ(27,"div",20),e.YNc(28,M,5,5,"div",21),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("title",r.title)("subtitle",r.subtitle),e.xp6(4),e.Oqu(r.scene.caption),e.xp6(2),e.Oqu(r.description),e.xp6(3),e.Q6J("ngForOf",r.scene.ringMetrics)("ngForTrackBy",r.trackByMetric),e.xp6(9),e.Q6J("ngForOf",r.scene.trendSeries)("ngForTrackBy",r.trackBySeries),e.xp6(2),e.Q6J("ngForOf",r.scene.trendSeries)("ngForTrackBy",r.trackBySeries),e.xp6(2),e.Q6J("ngForOf",r.scene.trendLabels),e.xp6(5),e.Q6J("ngForOf",r.scene.bars)("ngForTrackBy",r.trackByBar))},dependencies:[m.sg,m.O5,f.A,b.q],styles:['.reports-enter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:0;transform:translateY(10px);animation:reports-reveal .24s ease-out forwards;will-change:transform,opacity}.reports-enter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(1){animation-delay:.04s}.reports-enter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.reports-enter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(3){animation-delay:.16s}.reports-caption-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}.reports-caption-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-70% -30% auto;height:180%;background:linear-gradient(120deg,transparent,rgba(20,184,166,.08),transparent);pointer-events:none;animation:reports-sheen 1.1s ease-out 1}.reports-caption[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700;color:var(--r360-fg)}.reports-description[_ngcontent-%COMP%]{margin-top:.45rem;font-size:.9rem;color:var(--r360-fg-muted)}.reports-ring-card[_ngcontent-%COMP%]{text-align:center}.reports-ring-wrap[_ngcontent-%COMP%]{position:relative;margin-inline:auto;width:120px;height:120px}.reports-ring-svg[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.reports-ring-track[_ngcontent-%COMP%]{stroke:color-mix(in oklab,var(--r360-border) 70%,white)}.reports-ring-progress[_ngcontent-%COMP%]{stroke-linecap:round;transition:stroke-dashoffset .36s ease}.reports-ring-center[_ngcontent-%COMP%]{position:absolute;inset:0;display:grid;place-items:center}.reports-ring-value[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:800;color:var(--r360-fg)}.reports-ring-label[_ngcontent-%COMP%]{margin-top:.65rem;font-size:.82rem;font-weight:600;color:var(--r360-fg-muted)}.reports-plot-card[_ngcontent-%COMP%]{min-height:280px}.reports-card-title[_ngcontent-%COMP%]{margin-bottom:.85rem;font-size:.92rem;font-weight:700;color:var(--r360-fg)}.reports-line-chart[_ngcontent-%COMP%]{width:100%;height:auto}.reports-axis[_ngcontent-%COMP%]{stroke:color-mix(in oklab,var(--r360-border) 78%,white);stroke-width:1}.reports-area[_ngcontent-%COMP%]{opacity:.14;animation:reports-rise .28s ease-out both}.reports-line[_ngcontent-%COMP%]{fill:none;stroke-width:2.8;stroke-linecap:round;stroke-linejoin:round;animation:reports-fade-in .24s ease-out both;will-change:opacity,transform}.reports-line-legend[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.8rem 1rem;margin-top:.2rem}.reports-legend-item[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.42rem;font-size:.78rem;color:var(--r360-fg-muted)}.reports-legend-dot[_ngcontent-%COMP%]{width:.58rem;height:.58rem;border-radius:999px}.reports-line-labels[_ngcontent-%COMP%]{margin-top:.6rem;display:flex;justify-content:space-between;font-size:.72rem;color:var(--r360-fg-muted)}.reports-bars[_ngcontent-%COMP%]{height:200px;display:grid;grid-template-columns:repeat(4,minmax(0,1fr));align-items:end;gap:.7rem;padding-top:.5rem}.reports-bar-item[_ngcontent-%COMP%]{display:grid;justify-items:center;gap:.5rem}.reports-bar-track[_ngcontent-%COMP%]{width:100%;max-width:44px;height:160px;border-radius:999px;background:color-mix(in oklab,var(--r360-border) 72%,white);display:flex;align-items:flex-end;overflow:hidden}.reports-bar-fill[_ngcontent-%COMP%]{width:100%;border-radius:999px;animation:reports-rise .26s ease-out both;will-change:transform,opacity}.reports-bar-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:var(--r360-fg-muted)}@media (prefers-reduced-motion: reduce){.reports-enter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .reports-caption-card[_ngcontent-%COMP%]:after, .reports-area[_ngcontent-%COMP%], .reports-bar-fill[_ngcontent-%COMP%]{animation:none!important;transform:none!important;opacity:1!important}}@media (max-width: 1024px){.reports-plot-card[_ngcontent-%COMP%]{min-height:240px}.reports-bars[_ngcontent-%COMP%]{height:170px}.reports-bar-track[_ngcontent-%COMP%]{height:132px;max-width:38px}}@media (max-width: 640px){.reports-caption[_ngcontent-%COMP%]{font-size:1rem}.reports-plot-card[_ngcontent-%COMP%]{min-height:210px}.reports-line-labels[_ngcontent-%COMP%]{font-size:.66rem}.reports-bars[_ngcontent-%COMP%]{height:150px;gap:.5rem}.reports-bar-track[_ngcontent-%COMP%]{height:116px;max-width:32px}.reports-ring-wrap[_ngcontent-%COMP%]{width:106px;height:106px}}@keyframes reports-reveal{to{opacity:1;transform:translateY(0)}}@keyframes reports-rise{0%{transform:scaleY(.7);transform-origin:bottom;opacity:.2}to{transform:scaleY(1);transform-origin:bottom;opacity:1}}@keyframes reports-fade-in{0%{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}@keyframes reports-sheen{0%,to{transform:translate(-90%)}50%{transform:translate(88%)}}']}),n})();const _=[{path:"",component:l,canActivate:[c.a],data:{title:"Reports",subtitle:"Financial, occupancy, and operational reports",description:"Reports module scaffold as per PRODUCT-DEFINATION.",permission:s._.reportsView}},{path:"communications",component:l,canActivate:[c.a],data:{title:"Communications",subtitle:"Notices, messages, and communication logs",description:"Communications module scaffold as per PRODUCT-DEFINATION.",permission:s._.communicationsView}},{path:"tasks",component:l,canActivate:[c.a],data:{title:"Tasks",subtitle:"Track pending and completed operational tasks",description:"Tasks module scaffold as per PRODUCT-DEFINATION.",permission:s._.tasksView}}];let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.m,g.Bz.forChild(_)]}),n})()}}]);