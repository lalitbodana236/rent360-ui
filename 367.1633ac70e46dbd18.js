"use strict";(self.webpackChunkrent360=self.webpackChunkrent360||[]).push([[367],{7367:(Ae,y,l)=>{l.r(y),l.d(y,{SettingsModule:()=>Ze});var f=l(5675),m=l(8327),T=l(7574),M=l(4466),C=l(9646),Z=l(5698),R=l(727);class J extends R.w0{constructor(i,t){super()}schedule(i,t=0){return this}}const v={setInterval(n,i,...t){const{delegate:s}=v;return s?.setInterval?s.setInterval(n,i,...t):setInterval(n,i,...t)},clearInterval(n){const{delegate:i}=v;return(i?.clearInterval||clearInterval)(n)},delegate:void 0};var P=l(8737);const S={now:()=>(S.delegate||Date).now(),delegate:void 0};class p{constructor(i,t=p.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,s){return new this.schedulerActionCtor(this,i).schedule(s,t)}}p.now=S.now;const Y=new class E extends p{constructor(i,t=p.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let s;this._active=!0;do{if(s=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,s){for(;i=t.shift();)i.unsubscribe();throw s}}}(class F extends J{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var s;if(this.closed)return this;this.state=i;const r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,t)),this.pending=!0,this.delay=t,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(a,this.id,t),this}requestAsyncId(i,t,s=0){return v.setInterval(i.flush.bind(i,this),s)}recycleAsyncId(i,t,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return t;null!=t&&v.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(i,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let r,s=!1;try{this.work(i)}catch(a){s=!0,r=a||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:s}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P.P)(s,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}});var Q=l(4482),D=l(8421),L=l(3888),K=l(5403),G=l(9672);const V=(0,L.d)(n=>function(t=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function w(n,i){const{first:t,each:s,with:r=W,scheduler:a=i??Y,meta:c=null}=function z(n){return n instanceof Date&&!isNaN(n)}(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==t&&null==s)throw new TypeError("No timeout provided.");return(0,Q.e)((h,d)=>{let I,u,A=null,x=0;const O=U=>{u=(0,G.f)(d,a,()=>{try{I.unsubscribe(),(0,D.Xf)(r({meta:c,lastValue:A,seen:x})).subscribe(d)}catch(be){d.error(be)}},U)};I=h.subscribe((0,K.x)(d,U=>{u?.unsubscribe(),x++,d.next(A=U),s>0&&O(s)},void 0,void 0,()=>{u?.closed||u?.unsubscribe(),A=null})),!x&&O(null!=t?"number"==typeof t?t:+t-a.now():s)})}function W(n){throw new V(n)}var k=l(262),q=l(8746),e=l(8256),N=l(263),b=l(1438),g=l(6895),o=l(4006),_=l(9219);function H(n,i){1&n&&(e.TgZ(0,"section",0)(1,"r360-card"),e._uU(2,"Loading permission manager..."),e.qZA()())}function j(n,i){if(1&n&&(e.TgZ(0,"section",0)(1,"r360-card")(2,"div",3),e._uU(3),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.error)}}function B(n,i){1&n&&(e.TgZ(0,"section",0)(1,"r360-card")(2,"div",1),e._uU(3," You can view settings, but only users with authorization management permission can change access rules. "),e.qZA()()())}function $(n,i){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.email),e.xp6(1),e.AsE(" ",t.fullName," (",t.email,") ")}}function X(n,i){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.label," ")}}function ee(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",22)(1,"td",23),e._uU(2),e.qZA(),e.TgZ(3,"td",23),e._uU(4),e.qZA(),e.TgZ(5,"td",23),e._uU(6),e.qZA(),e.TgZ(7,"td",23)(8,"select",24),e.NdJ("ngModelChange",function(r){const c=e.CHM(t).$implicit,h=e.oxw().ngIf,d=e.oxw(2);return e.KtG(d.setOverride(h,c.key,r))}),e.TgZ(9,"option",25),e._uU(10,"Inherit Role Default"),e.qZA(),e.YNc(11,X,2,2,"option",7),e.qZA()()()}if(2&n){const t=i.$implicit,s=e.oxw().ngIf,r=e.oxw(2);e.xp6(2),e.Oqu(t.group),e.xp6(2),e.Oqu(t.label),e.xp6(2),e.Oqu(r.currentAccess(s,t.key)),e.xp6(2),e.Q6J("ngModel",r.currentOverride(s,t.key)),e.xp6(3),e.Q6J("ngForOf",r.accessOptions)}}function te(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"h3",15),e._uU(3," Permission Overrides "),e.qZA(),e.TgZ(4,"button",16),e.NdJ("click",function(){const a=e.CHM(t).ngIf,c=e.oxw(2);return e.KtG(c.resetUser(a))}),e._uU(5," Reset User Overrides "),e.qZA()(),e.TgZ(6,"div",17)(7,"table",18)(8,"thead")(9,"tr",19)(10,"th",20),e._uU(11,"Feature Group"),e.qZA(),e.TgZ(12,"th",20),e._uU(13,"Permission"),e.qZA(),e.TgZ(14,"th",20),e._uU(15,"Effective Access"),e.qZA(),e.TgZ(16,"th",20),e._uU(17,"Override"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,ee,12,5,"tr",21),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(19),e.Q6J("ngForOf",t.permissionRows)("ngForTrackBy",t.trackByPermission)}}function ne(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"section",0)(1,"r360-card")(2,"div",4)(3,"label",5),e._uU(4," Select User "),e.TgZ(5,"select",6),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.selectUser(r))}),e.YNc(6,$,2,3,"option",7),e.qZA()(),e.TgZ(7,"div",8)(8,"div",9),e._uU(9,"Assigned Roles"),e.qZA(),e.TgZ(10,"div",10),e._uU(11),e.qZA()()(),e.YNc(12,te,20,2,"div",11),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.selectedUserEmail),e.xp6(1),e.Q6J("ngForOf",t.users),e.xp6(5),e.hij(" ",t.getRoleList(t.selectedUser)," "),e.xp6(1),e.Q6J("ngIf",t.selectedUser)}}let se=(()=>{class n{constructor(t,s){this.auth=t,this.authorization=s,this.accessOptions=[{value:"hidden",label:"Hidden"},{value:"read",label:"Read"},{value:"write",label:"Write"}],this.users=[],this.selectedUser=null,this.selectedUserEmail="",this.canManageAuthorization=!1,this.loading=!0,this.error="",this.permissionRows=[],this.permissionRows=this.authorization.getEnabledPermissions().map(({key:r,definition:a})=>({key:r,label:a.label??r,group:a.group??"General"})).sort((r,a)=>r.group===a.group?r.label.localeCompare(a.label):r.group.localeCompare(a.group))}ngOnInit(){this.canManageAuthorization=this.authorization.canWrite(m._.authorizationManage),this.auth.listUsers().pipe((0,Z.q)(1),w(8e3),(0,k.K)(()=>(this.error="Failed to load users for permission management.",(0,C.of)([]))),(0,q.x)(()=>{this.loading=!1})).subscribe(t=>{this.users=t,t.length&&(this.selectedUserEmail=t[0].email,this.selectedUser=t[0])})}selectUser(t){this.selectedUserEmail=t,this.selectedUser=this.users.find(s=>s.email===t)??null}trackByPermission(t,s){return s.key}getRoleList(t){return t?t.roles.join(", "):"-"}currentAccess(t,s){return this.authorization.getAccessLevelForUser(t,s)}currentOverride(t,s){return this.authorization.getUserOverride(t.email,s)??""}setOverride(t,s,r){this.authorization.setUserOverride(t.email,s,r||null)}resetUser(t){this.authorization.clearUserOverrides(t.email)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N.e),e.Y36(b.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-settings-permissions"]],decls:8,vars:4,consts:[[1,"r360-section"],[1,"text-sm","text-gray-600","dark:text-gray-300"],["class","r360-section",4,"ngIf"],[1,"text-sm","text-danger"],[1,"grid","grid-cols-1","gap-3","sm:grid-cols-2"],[1,"r360-label"],[1,"r360-input","mt-1",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"rounded-lg","border","border-gray-200","p-3","dark:border-gray-700"],[1,"text-xs","uppercase","tracking-wide","text-gray-500"],[1,"mt-2","text-sm","text-gray-700","dark:text-gray-200"],["class","mt-4",4,"ngIf"],[3,"value"],[1,"mt-4"],[1,"mb-3","flex","items-center","justify-between"],[1,"text-base","font-semibold","text-gray-900","dark:text-gray-100"],["type","button",1,"r360-btn-secondary",3,"click"],[1,"r360-table-wrap"],[1,"r360-table"],[1,"border-b","border-gray-200","dark:border-gray-700"],[1,"r360-th"],["class","r360-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"r360-row"],[1,"r360-td"],[1,"r360-input",3,"ngModel","ngModelChange"],["value",""]],template:function(t,s){1&t&&(e.TgZ(0,"section",0)(1,"r360-card")(2,"div",1),e._uU(3," Role permissions are defaults. Per-user overrides below can grant or revoke specific permissions centrally. "),e.qZA()()(),e.YNc(4,H,3,0,"section",2),e.YNc(5,j,4,1,"section",2),e.YNc(6,B,4,0,"section",2),e.YNc(7,ne,13,4,"section",2)),2&t&&(e.xp6(4),e.Q6J("ngIf",s.loading),e.xp6(1),e.Q6J("ngIf",!s.loading&&s.error),e.xp6(1),e.Q6J("ngIf",!s.loading&&!s.error&&!s.canManageAuthorization),e.xp6(1),e.Q6J("ngIf",!s.loading&&!s.error&&s.canManageAuthorization))},dependencies:[g.sg,g.O5,o.YN,o.Kr,o.EJ,o.JJ,o.On,_.A],styles:[".r360-table[_ngcontent-%COMP%]   .r360-input[_ngcontent-%COMP%]{min-width:180px}"]}),n})();function ie(n,i){1&n&&(e.TgZ(0,"section",0)(1,"r360-card"),e._uU(2,"Loading role manager..."),e.qZA()())}function re(n,i){if(1&n&&(e.TgZ(0,"section",0)(1,"r360-card")(2,"div",3),e._uU(3),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.error)}}function oe(n,i){1&n&&(e.TgZ(0,"section",0)(1,"r360-card")(2,"div",1),e._uU(3," You can view settings, but only admin-level users can assign roles. "),e.qZA()()())}function ae(n,i){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.email),e.xp6(1),e.AsE(" ",t.fullName," (",t.email,") ")}}function le(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"label",19)(1,"input",20),e.NdJ("change",function(r){const c=e.CHM(t).$implicit,h=e.oxw(3);return e.KtG(h.toggleRole(c.key,r.target.checked))}),e.qZA(),e.TgZ(2,"span")(3,"span",21),e._uU(4),e.qZA(),e.TgZ(5,"span",22),e._uU(6),e.qZA()()()}if(2&n){const t=i.$implicit,s=e.oxw(3);e.xp6(1),e.Q6J("checked",s.isRoleChecked(t.key)),e.xp6(3),e.Oqu(t.label),e.xp6(2),e.Oqu(t.description)}}function ce(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"h3",15),e._uU(3,"Assigned Roles"),e.qZA(),e.TgZ(4,"button",16),e.NdJ("click",function(){const a=e.CHM(t).ngIf,c=e.oxw(2);return e.KtG(c.resetToDefaultRoles(a))}),e._uU(5," Reset To Default Roles "),e.qZA()(),e.TgZ(6,"div",17),e.YNc(7,le,7,3,"label",18),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngForOf",t.roleOptions)}}function ue(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"section",0)(1,"r360-card")(2,"div",4)(3,"label",5),e._uU(4," Select User "),e.TgZ(5,"select",6),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.selectUser(r))}),e.YNc(6,ae,2,3,"option",7),e.qZA()(),e.TgZ(7,"div",8)(8,"div",9),e._uU(9,"Role Assignment Source"),e.qZA(),e.TgZ(10,"div",10),e._uU(11),e.qZA()()(),e.YNc(12,ce,8,1,"div",11),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.selectedUserEmail),e.xp6(1),e.Q6J("ngForOf",t.users),e.xp6(5),e.hij(" ",t.hasRoleOverride(t.selectedUser)?"Custom Override":"Default From Mock User Data"," "),e.xp6(1),e.Q6J("ngIf",t.selectedUser)}}let de=(()=>{class n{constructor(t,s){this.auth=t,this.authorization=s,this.roleOptions=[{key:"admin",label:"Admin",description:"Full platform-level management rights."},{key:"owner",label:"Owner",description:"Manages owned properties, tenants, and billing."},{key:"tenant",label:"Tenant",description:"Sees own payments, requests, and assigned tasks."},{key:"societyAdmin",label:"Society Admin",description:"Manages society operations and members."},{key:"vendor",label:"Vendor",description:"Handles assigned service tasks and marketplace flows."},{key:"security",label:"Security",description:"Operational visibility for access/monitoring workflows."},{key:"publicUser",label:"Public User",description:"Limited access for public marketplace usage."}],this.users=[],this.selectedUser=null,this.selectedUserEmail="",this.canManageAuthorization=!1,this.loading=!0,this.error=""}ngOnInit(){this.canManageAuthorization=this.authorization.canWrite(m._.authorizationManage),this.auth.listUsers().pipe((0,Z.q)(1),w(8e3),(0,k.K)(()=>(this.error="Failed to load users for role management.",(0,C.of)([]))),(0,q.x)(()=>{this.loading=!1})).subscribe(t=>{this.users=t,t.length&&this.selectUser(t[0].email)})}selectUser(t){this.selectedUserEmail=t,this.selectedUser=this.users.find(s=>s.email===t)??null}isRoleChecked(t){return this.selectedUser?.roles.includes(t)??!1}hasRoleOverride(t){return!!t&&!!this.auth.getUserRoleOverride(t.email)}toggleRole(t,s){if(!this.selectedUser)return;const r=this.selectedUser.roles,a=s?[...new Set([...r,t])]:r.filter(c=>c!==t);this.auth.setUserRoles(this.selectedUser.email,a),this.applyUserRoles(this.selectedUser.email,a.length?a:["publicUser"])}resetToDefaultRoles(t){this.auth.clearUserRoleOverride(t.email),this.auth.listUsers().pipe((0,Z.q)(1)).subscribe(s=>{this.users=s,this.selectUser(t.email)})}applyUserRoles(t,s){this.users=this.users.map(r=>r.email===t?{...r,roles:s}:r),this.selectUser(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N.e),e.Y36(b.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-settings-roles"]],decls:8,vars:4,consts:[[1,"r360-section"],[1,"text-sm","text-gray-600","dark:text-gray-300"],["class","r360-section",4,"ngIf"],[1,"text-sm","text-danger"],[1,"grid","grid-cols-1","gap-3","sm:grid-cols-2"],[1,"r360-label"],[1,"r360-input","mt-1",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"rounded-lg","border","border-gray-200","p-3","dark:border-gray-700"],[1,"text-xs","uppercase","tracking-wide","text-gray-500"],[1,"mt-2","text-sm","text-gray-700","dark:text-gray-200"],["class","mt-4",4,"ngIf"],[3,"value"],[1,"mt-4"],[1,"mb-3","flex","items-center","justify-between"],[1,"text-base","font-semibold","text-gray-900","dark:text-gray-100"],["type","button",1,"r360-btn-secondary",3,"click"],[1,"grid","grid-cols-1","gap-3","md:grid-cols-2"],["class","role-option",4,"ngFor","ngForOf"],[1,"role-option"],["type","checkbox",3,"checked","change"],[1,"role-label"],[1,"role-desc"]],template:function(t,s){1&t&&(e.TgZ(0,"section",0)(1,"r360-card")(2,"div",1),e._uU(3," Assign one or multiple roles to a user after registration. Role defaults control baseline access; permission overrides can further refine behavior. "),e.qZA()()(),e.YNc(4,ie,3,0,"section",2),e.YNc(5,re,4,1,"section",2),e.YNc(6,oe,4,0,"section",2),e.YNc(7,ue,13,4,"section",2)),2&t&&(e.xp6(4),e.Q6J("ngIf",s.loading),e.xp6(1),e.Q6J("ngIf",!s.loading&&s.error),e.xp6(1),e.Q6J("ngIf",!s.loading&&!s.error&&!s.canManageAuthorization),e.xp6(1),e.Q6J("ngIf",!s.loading&&!s.error&&s.canManageAuthorization))},dependencies:[g.sg,g.O5,o.YN,o.Kr,o.EJ,o.JJ,o.On,_.A],styles:[".role-option[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:flex-start;border:1px solid rgb(229,231,235);border-radius:.75rem;padding:.75rem}.role-label[_ngcontent-%COMP%]{display:block;font-size:.9rem;font-weight:600;color:#111827}.role-desc[_ngcontent-%COMP%]{display:block;margin-top:.2rem;font-size:.8rem;color:#6b7280}"]}),n})();var ge=l(7338);function me(n,i){1&n&&(e.TgZ(0,"span",41),e._uU(1,"Saved"),e.qZA())}let pe=(()=>{class n{constructor(t,s){this.fb=t,this.userSettings=s,this.saved=!1,this.form=this.fb.group({fullName:["",[o.kI.required,o.kI.minLength(2)]],email:["",[o.kI.required,o.kI.email]],mobileNumber:["",[o.kI.required,o.kI.minLength(5)]],address:["",[o.kI.required,o.kI.minLength(5)]],currency:["USD",o.kI.required],defaultDashboard:["owner",o.kI.required],timeFormat:["12h",o.kI.required],timeZone:["America/New_York",o.kI.required],language:["en",o.kI.required],notifyEmail:[!0],notifyWhatsApp:[!1],notifyInApp:[!0],whatsAppNumber:[""]})}ngOnInit(){this.form.patchValue({...this.userSettings.snapshot})}save(){if(this.form.invalid)return void this.form.markAllAsTouched();const t=this.form.getRawValue();this.userSettings.updateSettings({fullName:t.fullName??"",email:t.email??"",mobileNumber:t.mobileNumber??"",address:t.address??"",currency:t.currency??"USD",defaultDashboard:t.defaultDashboard??"owner",timeFormat:t.timeFormat??"12h",timeZone:t.timeZone??"America/New_York",language:t.language??"en",notifyEmail:t.notifyEmail??!0,notifyWhatsApp:t.notifyWhatsApp??!1,notifyInApp:t.notifyInApp??!0,whatsAppNumber:t.whatsAppNumber??""}),this.saved=!0,setTimeout(()=>{this.saved=!1},2e3)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.qu),e.Y36(ge.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-settings-user"]],decls:86,vars:2,consts:[[1,"r360-section"],[1,"text-sm","text-gray-600","dark:text-gray-300"],[1,"grid","grid-cols-1","gap-4","lg:grid-cols-2",3,"formGroup","ngSubmit"],[1,"r360-label"],["formControlName","fullName","type","text",1,"r360-input","mt-1"],["formControlName","email","type","email",1,"r360-input","mt-1"],["formControlName","mobileNumber","type","text",1,"r360-input","mt-1"],["formControlName","whatsAppNumber","type","text",1,"r360-input","mt-1"],[1,"r360-label","lg:col-span-2"],["formControlName","address","type","text",1,"r360-input","mt-1"],["formControlName","currency",1,"r360-input","mt-1"],["value","USD"],["value","INR"],["value","EUR"],["value","GBP"],["value","AED"],["formControlName","defaultDashboard",1,"r360-input","mt-1"],["value","owner"],["value","tenant"],["formControlName","timeFormat",1,"r360-input","mt-1"],["value","12h"],["value","24h"],["formControlName","timeZone",1,"r360-input","mt-1"],["value","America/New_York"],["value","America/Chicago"],["value","America/Denver"],["value","America/Los_Angeles"],["value","Asia/Kolkata"],["formControlName","language",1,"r360-input","mt-1"],["value","en"],["value","hi"],[1,"lg:col-span-2"],[1,"text-sm","font-semibold","text-gray-800","dark:text-gray-100"],[1,"mt-2","grid","grid-cols-1","gap-2","sm:grid-cols-3"],[1,"r360-checkbox"],["type","checkbox","formControlName","notifyEmail"],["type","checkbox","formControlName","notifyWhatsApp"],["type","checkbox","formControlName","notifyInApp"],[1,"lg:col-span-2","flex","items-center","gap-3"],["type","submit",1,"r360-btn-primary"],["class","text-sm text-green-600",4,"ngIf"],[1,"text-sm","text-green-600"]],template:function(t,s){1&t&&(e.TgZ(0,"section",0)(1,"r360-card")(2,"div",1),e._uU(3," Update your profile and personal preferences. These values are used in your app experience. "),e.qZA()()(),e.TgZ(4,"section",0)(5,"r360-card")(6,"form",2),e.NdJ("ngSubmit",function(){return s.save()}),e.TgZ(7,"label",3),e._uU(8," Full Name "),e._UZ(9,"input",4),e.qZA(),e.TgZ(10,"label",3),e._uU(11," Email "),e._UZ(12,"input",5),e.qZA(),e.TgZ(13,"label",3),e._uU(14," Mobile Number "),e._UZ(15,"input",6),e.qZA(),e.TgZ(16,"label",3),e._uU(17," WhatsApp Number "),e._UZ(18,"input",7),e.qZA(),e.TgZ(19,"label",8),e._uU(20," Address "),e._UZ(21,"input",9),e.qZA(),e.TgZ(22,"label",3),e._uU(23," Currency "),e.TgZ(24,"select",10)(25,"option",11),e._uU(26,"USD"),e.qZA(),e.TgZ(27,"option",12),e._uU(28,"INR"),e.qZA(),e.TgZ(29,"option",13),e._uU(30,"EUR"),e.qZA(),e.TgZ(31,"option",14),e._uU(32,"GBP"),e.qZA(),e.TgZ(33,"option",15),e._uU(34,"AED"),e.qZA()()(),e.TgZ(35,"label",3),e._uU(36," Default Dashboard "),e.TgZ(37,"select",16)(38,"option",17),e._uU(39,"Owner"),e.qZA(),e.TgZ(40,"option",18),e._uU(41,"Tenant"),e.qZA()()(),e.TgZ(42,"label",3),e._uU(43," Time Format "),e.TgZ(44,"select",19)(45,"option",20),e._uU(46,"12-hour"),e.qZA(),e.TgZ(47,"option",21),e._uU(48,"24-hour"),e.qZA()()(),e.TgZ(49,"label",3),e._uU(50," Time Zone "),e.TgZ(51,"select",22)(52,"option",23),e._uU(53,"America/New_York"),e.qZA(),e.TgZ(54,"option",24),e._uU(55,"America/Chicago"),e.qZA(),e.TgZ(56,"option",25),e._uU(57,"America/Denver"),e.qZA(),e.TgZ(58,"option",26),e._uU(59,"America/Los_Angeles"),e.qZA(),e.TgZ(60,"option",27),e._uU(61,"Asia/Kolkata"),e.qZA()()(),e.TgZ(62,"label",3),e._uU(63," Language "),e.TgZ(64,"select",28)(65,"option",29),e._uU(66,"English"),e.qZA(),e.TgZ(67,"option",30),e._uU(68,"Hindi"),e.qZA()()(),e.TgZ(69,"div",31)(70,"div",32),e._uU(71,"Notification Preferences"),e.qZA(),e.TgZ(72,"div",33)(73,"label",34),e._UZ(74,"input",35),e._uU(75," Email "),e.qZA(),e.TgZ(76,"label",34),e._UZ(77,"input",36),e._uU(78," WhatsApp "),e.qZA(),e.TgZ(79,"label",34),e._UZ(80,"input",37),e._uU(81," In-App "),e.qZA()()(),e.TgZ(82,"div",38)(83,"button",39),e._uU(84,"Save User Settings"),e.qZA(),e.YNc(85,me,2,0,"span",40),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("formGroup",s.form),e.xp6(79),e.Q6J("ngIf",s.saved))},dependencies:[g.O5,o._Y,o.YN,o.Kr,o.Fj,o.Wl,o.EJ,o.JJ,o.JL,o.sg,o.u,_.A],styles:[".r360-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#374151}"]}),n})();var he=l(2802);function fe(n,i){1&n&&(e.TgZ(0,"a",8),e._uU(1," Roles "),e.qZA())}function ve(n,i){1&n&&(e.TgZ(0,"a",9),e._uU(1," Permissions "),e.qZA())}const _e=[{path:"",component:(()=>{class n{constructor(t){this.authorization=t,this.canViewPermissions=this.authorization.canView(m._.authorizationManage)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-settings"]],decls:10,vars:2,consts:[[1,"r360-page"],["title","Settings","subtitle","Manage profile preferences and centralized access controls"],[1,"r360-section"],[1,"settings-tabs-card"],[1,"settings-tabs"],["routerLink","user","routerLinkActive","settings-tab-active",1,"settings-tab"],["routerLink","roles","routerLinkActive","settings-tab-active","class","settings-tab",4,"ngIf"],["routerLink","permissions","routerLinkActive","settings-tab-active","class","settings-tab",4,"ngIf"],["routerLink","roles","routerLinkActive","settings-tab-active",1,"settings-tab"],["routerLink","permissions","routerLinkActive","settings-tab-active",1,"settings-tab"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"r360-page-header",1),e.TgZ(2,"section",2)(3,"r360-card",3)(4,"nav",4)(5,"a",5),e._uU(6," User Settings "),e.qZA(),e.YNc(7,fe,2,0,"a",6),e.YNc(8,ve,2,0,"a",7),e.qZA()()(),e._UZ(9,"router-outlet"),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngIf",s.canViewPermissions),e.xp6(1),e.Q6J("ngIf",s.canViewPermissions))},dependencies:[g.O5,_.A,he.q,f.lC,f.yS,f.Od],styles:[".settings-tabs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.settings-tab[_ngcontent-%COMP%]{border:1px solid rgb(229,231,235);border-radius:.75rem;padding:.5rem .875rem;font-size:.875rem;font-weight:600;color:#4b5563;text-decoration:none}.settings-tab[_ngcontent-%COMP%]:hover{background:rgb(249,250,251)}.settings-tab-active[_ngcontent-%COMP%]{background:rgb(30,64,175);border-color:#1e40af;color:#fff}"]}),n})(),children:[{path:"",redirectTo:"user",pathMatch:"full"},{path:"user",component:pe},{path:"roles",component:de,canActivate:[T.a],data:{permission:m._.authorizationManage}},{path:"permissions",component:se,canActivate:[T.a],data:{permission:m._.authorizationManage}}]}];let Ze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[M.m,f.Bz.forChild(_e)]}),n})()}}]);